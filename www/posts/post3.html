<!DOCTYPE html>
<!-- Theme from 3rd Wave Media -->
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <title>Updating Google Dynamic DNS on dd-wrt</title>
  <!-- Meta -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Chad Voegele's Blog">
  <meta name="author" content="Chad Voegele">
  <link href='https://fonts.googleapis.com/css?family=Lato:300,400,300italic,400italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css">
  <link id="theme-style" rel="stylesheet" href="../assets/css/styles.css">
  <link id="theme-style" rel="stylesheet" href="../assets/css/navbar.css">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
<style>
.gist {
  word-wrap: normal;
}
</style>
</head>

<body>
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar-collapse" aria-expanded="false">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>

      <div class="collapse navbar-collapse" id="bs-navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="http://www.chadvoegele.com">Home</a></li>
          <li><a href="https://blog.chadvoegele.com">Blog</a></li>
          <li><a href="https://projects.chadvoegele.com">Projects</a></li>
          <li><a href="http://www.chadvoegele.com/about.html">About</a></li>
        </ul>
      </div>
    </div>
  </nav>


  <div class="container sections-wrapper">
    <div class="row">
      <div class="primary col-md-offset-1 col-md-10 col-sm-12 col-xs-12">
        <section class="experience section">
          <div class="section-inner">
            <h2 class="heading">Updating Google Dynamic DNS on dd-wrt</h2>
            <div class="content">
              <div class="row item">
                <div class="col-md-12 col-lg-12">
                  <div class="post-content">
                    <div class="col-md-12 col-lg-12">
                      <div class="row">
                        <p>
                        After being worn down by <a href="https://www.noip.com/">noip.com</a> confirmation emails, I switched to Google Domains since they include dynamic DNS support with a domain purchase. Google DDNS was easy to set up on my ASUS RT-AC68U with its built-in support. However recently my router was mistakenly bringing down my connection due to DHCP issues so I immediately switched to dd-wrt. Everything about dd-wrt is great... except it has no built-in support for <a href="https://www.dd-wrt.com/wiki/index.php/DDNS_-_How_to_setup_Custom_DDNS_settings_using_embedded_inadyn_-_HOWTO#Secure_DDNS_Updates_Over_HTTPS.2FSSL">Dynamic DNS over HTTPS/SSL</a> which Google Domains requires!
                        </p>
                        <p>
                        The wiki pointed me to a <a href="http://www.dd-wrt.com/wiki/index.php/Useful_Scripts#DynDNS_Updates_Using_Curl_.28with_HTTPS.2FSSL_Support.29">curl script</a> however <code>curl</code> failed to complete the TLS handshake with the error <code>error:140943FC:lib(20):func(148):reason(1020)</code> which is due to an <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=309557">unsupported cipher</a>. Luckily there is an easy, if less secure, workaround until <code>curl</code> on dd-wrt is upgraded. Run <code>curl</code> with <code>--tlsv1.1</code> to negotiate down to TLS 1.1.
                        </p>

                        <p>
                        With this change, I have Google Dynamic DNS support on dd-wrt with this startup script and script!
                        </p>

                        <p>
                        Hopefully you also will be relieved of <a href="https://www.noip.com/">noip.com</a> emails!
                        </p>

                        <p>
                        <script src="https://gist.github.com/chadvoegele/9dc7d9ede620db7bb64f3f4ee62e957f.js"></script>
                        </p>

                        <p>
                        <script src="https://gist.github.com/chadvoegele/bd9a2e8c83d89a7e2f5425215e9f59f0.js"></script>
                        </p>
                      </div>
                    </div>

                    <div class="col-md-12 col-lg-12">
                      <div class="row">
                        <h3>Comments</h3>
                        <div id="disqus_thread"></div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div><!--//content-->
          </div><!--//section-inner-->
        </section><!--//section-->

      </div><!--//primary-->
    </div><!--//row-->
  </div><!--//masonry-->

  <!-- Javascript -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="../assets/js/ga.js"></script>
  <script type="text/javascript">set_ga('UA-83937312-3');</script>
  <script>
     var disqus_config = function () {
     this.page.url = 'https://blog.chadvoegele.com/posts/post3.html';
     this.page.identifier = 'post3-google_ddns_ddwrt';
     };
  (function() {
    var d = document, s = d.createElement('script');
    s.src = 'https://blog-chadvoegele.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</body>
</html>
